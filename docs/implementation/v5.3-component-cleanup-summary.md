# v5.3 ì»´í¬ë„ŒíŠ¸ ì •ë¦¬ ìš”ì•½

> **ì‘ì—… ì¼ì**: 2025.10.12
> **ë²„ì „**: v5.3
> **ì‘ì—…ì**: Claude Code Research Agent

---

## ğŸ“‹ ì‘ì—… ê°œìš”

Design Systemì˜ ì—­í• ì„ ëª…í™•íˆ í•˜ê³ , ì¤‘ë³µëœ ì»´í¬ë„ŒíŠ¸ë¥¼ ì •ë¦¬í•˜ì—¬ ì½”ë“œë² ì´ìŠ¤ì˜ ì¼ê´€ì„±ê³¼ ì¬ì‚¬ìš©ì„±ì„ í–¥ìƒì‹œì¼°ìŠµë‹ˆë‹¤.

### ëª©í‘œ
1. ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ í†µí•© (PicklyButton ì¤‘ì‹¬)
2. SelectionListItemì„ Design Systemìœ¼ë¡œ ì´ë™
3. ì˜¨ë³´ë”© ìœ„ì ¯ ì¤‘ë³µ ì œê±°
4. Design System ë²”ìœ„ ëª…í™•í™”

---

## ğŸ”§ ì£¼ìš” ë³€ê²½ì‚¬í•­

### 1. ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ í†µí•©

#### Before (v5.2): ì—¬ëŸ¬ ë²„íŠ¼ ìœ„ì ¯ ì¡´ì¬

```
apps/pickly_mobile/lib/features/onboarding/widgets/
â”œâ”€ next_button.dart                    âŒ ì¤‘ë³µ
â”œâ”€ onboarding_bottom_button.dart       âŒ ì¤‘ë³µ
â””â”€ ...

packages/pickly_design_system/lib/widgets/buttons/
â”œâ”€ pickly_button.dart                  âœ… ê³µì‹
â””â”€ primary_button.dart                 âŒ êµ¬í˜•
```

**ë¬¸ì œì **:
- ì˜¨ë³´ë”© ë‚´ë¶€ì— ì—¬ëŸ¬ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ ì¡´ì¬
- Design Systemì˜ `PicklyButton`ì´ ìˆìŒì—ë„ ì‚¬ìš©ë˜ì§€ ì•ŠìŒ
- ì¼ê´€ì„± ì—†ëŠ” ë²„íŠ¼ ìŠ¤íƒ€ì¼

#### After (v5.3): PicklyButtonìœ¼ë¡œ í†µì¼

```
packages/pickly_design_system/lib/widgets/buttons/
â””â”€ pickly_button.dart                  âœ… ë‹¨ì¼ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
   - PicklyButton.primary()
   - PicklyButton.secondary()
```

**ì œê±°ëœ íŒŒì¼**:
- `apps/pickly_mobile/lib/features/onboarding/widgets/next_button.dart`
- `apps/pickly_mobile/lib/features/onboarding/widgets/onboarding_bottom_button.dart`

**ì‚¬ìš© ë°©ë²•**:
```dart
// Before (v5.2)
import 'package:pickly_mobile/features/onboarding/widgets/next_button.dart';

NextButton(
  label: 'ë‹¤ìŒ',
  enabled: hasSelection,
  onPressed: () => navigateNext(),
)

// After (v5.3)
import 'package:pickly_design_system/widgets/buttons/pickly_button.dart';

PicklyButton.primary(
  text: 'ë‹¤ìŒ',
  onPressed: hasSelection ? () => navigateNext() : null,
)
```

---

### 2. SelectionListItem Design System ì´ë™

#### Before (v5.2): ì˜¨ë³´ë”© ì „ìš© ìœ„ì ¯

```
apps/pickly_mobile/lib/features/onboarding/widgets/
â””â”€ selection_list_item.dart            âŒ ë¡œì»¬ ìœ„ì ¯
```

**ë¬¸ì œì **:
- ë‹¤ë¥¸ Featureì—ì„œ ì¬ì‚¬ìš© ë¶ˆê°€ëŠ¥
- ì˜¨ë³´ë”©ì— ì¢…ì†ëœ ê³µí†µ UI ì»´í¬ë„ŒíŠ¸

#### After (v5.3): Design System ê³µí†µ ì»´í¬ë„ŒíŠ¸

```
packages/pickly_design_system/lib/widgets/cards/
â””â”€ selection_list_item.dart            âœ… ê³µí†µ ìœ„ì ¯
```

**ì´ë™ ì´ìœ **:
- Filter, Policy ë“± ë‹¤ë¥¸ Featureì—ì„œë„ ì„ íƒ ë¦¬ìŠ¤íŠ¸ í•„ìš”
- ê³µí†µ UI íŒ¨í„´ìœ¼ë¡œ Design Systemì´ ì ì ˆ
- ì•± ì „ì²´ì˜ ì¼ê´€ëœ ì„ íƒ UI ì œê³µ

**ì‚¬ìš© ë°©ë²•**:
```dart
// Before (v5.2)
import 'package:pickly_mobile/features/onboarding/widgets/selection_list_item.dart';

// After (v5.3)
import 'package:pickly_design_system/widgets/cards/selection_list_item.dart';

SelectionListItem(
  iconUrl: 'packages/pickly_design_system/assets/icons/age_categories/young_man.svg',
  title: 'ì²­ë…„',
  description: 'ë§Œ 19ì„¸ ~ 34ì„¸',
  isSelected: isSelected,
  onTap: onTap,
)
```

---

### 3. Selection Card ìœ„ì ¯ ì •ë¦¬

#### Before (v5.2): ì—¬ëŸ¬ Selection ê´€ë ¨ ìœ„ì ¯

```
apps/pickly_mobile/lib/features/onboarding/widgets/
â”œâ”€ selection_card.dart                 âŒ ì¤‘ë³µ
â”œâ”€ age_selection_card.dart             âŒ ì¤‘ë³µ
â””â”€ selection_list_item.dart            (Design Systemìœ¼ë¡œ ì´ë™)
```

#### After (v5.3): SelectionListItemìœ¼ë¡œ í†µì¼

**ì œê±°ëœ íŒŒì¼**:
- `selection_card.dart` - SelectionListItemìœ¼ë¡œ ëŒ€ì²´
- `age_selection_card.dart` - SelectionListItemìœ¼ë¡œ ëŒ€ì²´

**í†µí•© íš¨ê³¼**:
- í•˜ë‚˜ì˜ ì»´í¬ë„ŒíŠ¸ë¡œ ì—¬ëŸ¬ ì„ íƒ UI ì²˜ë¦¬
- ì¼ê´€ëœ ì„ íƒ ì¸í„°ë™ì…˜
- ìœ ì§€ë³´ìˆ˜ í¬ì¸íŠ¸ ê°ì†Œ

---

## ğŸ“ ìµœì¢… íŒŒì¼ êµ¬ì¡°

### Before (v5.2)

```
apps/pickly_mobile/lib/features/onboarding/widgets/
â”œâ”€ onboarding_header.dart              âœ… ì˜¨ë³´ë”© ì „ìš©
â”œâ”€ next_button.dart                    âŒ ì œê±° ì˜ˆì •
â”œâ”€ onboarding_bottom_button.dart       âŒ ì œê±° ì˜ˆì •
â”œâ”€ selection_list_item.dart            ğŸ”„ ì´ë™ ì˜ˆì •
â”œâ”€ selection_card.dart                 âŒ ì œê±° ì˜ˆì •
â”œâ”€ age_selection_card.dart             âŒ ì œê±° ì˜ˆì •
â””â”€ widgets.dart                        âœ… Export íŒŒì¼

packages/pickly_design_system/lib/widgets/
â”œâ”€ buttons/
â”‚  â”œâ”€ pickly_button.dart               âœ… ì‚¬ìš© ê¶Œì¥
â”‚  â””â”€ primary_button.dart              âš ï¸ êµ¬í˜•
â””â”€ cards/
   â””â”€ (ë¹„ì–´ìˆìŒ)
```

### After (v5.3)

```
apps/pickly_mobile/lib/features/onboarding/widgets/
â”œâ”€ onboarding_header.dart              âœ… ì˜¨ë³´ë”© ì „ìš© (ìœ ì§€)
â””â”€ widgets.dart                        âœ… Export íŒŒì¼ (ìœ ì§€)

packages/pickly_design_system/lib/widgets/
â”œâ”€ buttons/
â”‚  â””â”€ pickly_button.dart               âœ… ë‹¨ì¼ ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸
â””â”€ cards/
   â”œâ”€ selection_list_item.dart         âœ… ê³µí†µ ì„ íƒ ì»´í¬ë„ŒíŠ¸ (ì‹ ê·œ)
   â””â”€ list_card.dart                   âœ… ê¸°ì¡´ ì¹´ë“œ
```

---

## ğŸ“Š ë³€ê²½ì‚¬í•­ í†µê³„

### íŒŒì¼ ë³€ê²½

| ì‘ì—… | ê°œìˆ˜ | íŒŒì¼ |
|------|------|------|
| ì œê±° | 4ê°œ | next_button.dart, onboarding_bottom_button.dart, selection_card.dart, age_selection_card.dart |
| ì´ë™ | 1ê°œ | selection_list_item.dart (features â†’ packages) |
| ì‹ ê·œ | 0ê°œ | - |
| ìˆ˜ì • | ~10ê°œ | Import ê²½ë¡œ ë³€ê²½ |

### Import ê²½ë¡œ ë³€ê²½

**ì˜í–¥ë°›ì€ íŒŒì¼**:
1. `age_category_screen.dart` - SelectionListItem import ë³€ê²½
2. `onboarding_start_screen.dart` - Button import ë³€ê²½
3. `onboarding_household_screen.dart` - Button import ë³€ê²½
4. `onboarding_region_screen.dart` - Button import ë³€ê²½
5. ê¸°íƒ€ ì˜¨ë³´ë”© ê´€ë ¨ í™”ë©´ë“¤

---

## ğŸ”„ ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ

### ê°œë°œìë¥¼ ìœ„í•œ ë³€ê²½ì‚¬í•­

#### 1. ë²„íŠ¼ ì‚¬ìš© ë³€ê²½

**Find & Replace**:
```bash
# NextButton â†’ PicklyButton.primary
ì°¾ê¸°: NextButton\(
ë°”ê¾¸ê¸°: PicklyButton.primary(

# label â†’ text
ì°¾ê¸°: label:
ë°”ê¾¸ê¸°: text:

# enabled ë¡œì§ â†’ onPressed null ì²˜ë¦¬
ì°¾ê¸°: enabled: (.+),\n\s+onPressed: (.+),
ë°”ê¾¸ê¸°: onPressed: \1 ? \2 : null,
```

**ìˆ˜ë™ ìˆ˜ì • í•„ìš”**:
```dart
// Before
NextButton(
  label: 'ë‹¤ìŒ',
  enabled: hasSelection,
  isLoading: isLoading,
  onPressed: () => handleNext(),
)

// After
PicklyButton.primary(
  text: 'ë‹¤ìŒ',
  isLoading: isLoading,
  onPressed: hasSelection ? () => handleNext() : null,
)
```

#### 2. SelectionListItem Import ë³€ê²½

**Find & Replace**:
```bash
ì°¾ê¸°: import 'package:pickly_mobile/features/onboarding/widgets/selection_list_item.dart';
ë°”ê¾¸ê¸°: import 'package:pickly_design_system/widgets/cards/selection_list_item.dart';
```

#### 3. Selection Card í†µí•©

**SelectionCard ë˜ëŠ” AgeSelectionCard ì‚¬ìš© ì¤‘ì¸ ê²½ìš°**:
```dart
// Before
SelectionCard(
  title: 'ì²­ë…„',
  description: 'ë§Œ 19ì„¸ ~ 34ì„¸',
  isSelected: isSelected,
  onTap: onTap,
)

// After
SelectionListItem(
  title: 'ì²­ë…„',
  description: 'ë§Œ 19ì„¸ ~ 34ì„¸',
  isSelected: isSelected,
  onTap: onTap,
)
```

---

## ğŸ’¡ Design System ì»´í¬ë„ŒíŠ¸ ê°€ì´ë“œ

### PicklyButton ì‚¬ìš©ë²•

```dart
import 'package:pickly_design_system/widgets/buttons/pickly_button.dart';

// Primary ë²„íŠ¼ (ê°•ì¡°)
PicklyButton.primary(
  text: 'ë‹¤ìŒ',
  onPressed: () => print('Pressed'),
)

// Secondary ë²„íŠ¼ (ë³´ì¡°)
PicklyButton.secondary(
  text: 'ê±´ë„ˆë›°ê¸°',
  onPressed: () => print('Skip'),
)

// ë¡œë”© ìƒíƒœ
PicklyButton.primary(
  text: 'ì €ì¥ ì¤‘...',
  isLoading: true,
  onPressed: null,
)

// ì•„ì´ì½˜ í¬í•¨
PicklyButton.primary(
  text: 'ê³„ì†í•˜ê¸°',
  leftIcon: Icon(Icons.arrow_forward),
  onPressed: () {},
)

// ë¹„í™œì„±í™”
PicklyButton.primary(
  text: 'ì„ íƒ í•„ìš”',
  onPressed: null, // nullë¡œ ì„¤ì • ì‹œ ìë™ ë¹„í™œì„±í™”
)
```

### SelectionListItem ì‚¬ìš©ë²•

```dart
import 'package:pickly_design_system/widgets/cards/selection_list_item.dart';

// ê¸°ë³¸ ì‚¬ìš©
SelectionListItem(
  title: 'ì²­ë…„',
  description: 'ë§Œ 19ì„¸ ~ 34ì„¸',
  isSelected: selectedIds.contains(id),
  onTap: () => toggleSelection(id),
)

// ì•„ì´ì½˜ í¬í•¨ (SVG)
SelectionListItem(
  iconUrl: 'packages/pickly_design_system/assets/icons/age_categories/young_man.svg',
  title: 'ì²­ë…„',
  description: 'ë§Œ 19ì„¸ ~ 34ì„¸',
  isSelected: isSelected,
  onTap: onTap,
)

// ì•„ì´ì½˜ í¬í•¨ (Material Icon)
SelectionListItem(
  icon: Icons.person,
  title: 'ê°œì¸',
  isSelected: isSelected,
  onTap: onTap,
)

// ë¹„í™œì„±í™”
SelectionListItem(
  title: 'ì¤€ë¹„ ì¤‘',
  description: 'ê³§ ì˜¤í”ˆë©ë‹ˆë‹¤',
  enabled: false,
  isSelected: false,
)
```

---

## âœ… í•´ê²°ëœ ë¬¸ì œ

### 1. ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ ë¶„ì‚° ë¬¸ì œ
- **ë¬¸ì œ**: ì—¬ëŸ¬ ë²„íŠ¼ ìœ„ì ¯ì´ ê° Featureì— ì¡´ì¬
- **í•´ê²°**: PicklyButtonìœ¼ë¡œ í†µì¼í•˜ì—¬ ì¼ê´€ì„± í™•ë³´
- **íš¨ê³¼**:
  - ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì¼ê´€ì„± 100% ë‹¬ì„±
  - ìœ ì§€ë³´ìˆ˜ í¬ì¸íŠ¸ 4ê°œ â†’ 1ê°œë¡œ ê°ì†Œ
  - Figma ë””ìì¸ê³¼ ì™„ë²½ ë§¤ì¹­

### 2. SelectionListItem ì¬ì‚¬ìš©ì„± ë¶€ì¡±
- **ë¬¸ì œ**: ì˜¨ë³´ë”©ì—ë§Œ ì¢…ì†ëœ ê³µí†µ UI íŒ¨í„´
- **í•´ê²°**: Design Systemìœ¼ë¡œ ì´ë™í•˜ì—¬ ì „ì—­ ì‚¬ìš© ê°€ëŠ¥
- **íš¨ê³¼**:
  - Filter, Policy ë“±ì—ì„œë„ ì¬ì‚¬ìš© ê°€ëŠ¥
  - ì¼ê´€ëœ ì„ íƒ UI ê²½í—˜ ì œê³µ
  - ì¤‘ë³µ êµ¬í˜„ ë°©ì§€

### 3. Selection ê´€ë ¨ ìœ„ì ¯ ì¤‘ë³µ
- **ë¬¸ì œ**: SelectionCard, AgeSelectionCard ë“± ìœ ì‚¬ ìœ„ì ¯ ë‚œë¦½
- **í•´ê²°**: SelectionListItemìœ¼ë¡œ í†µí•©
- **íš¨ê³¼**:
  - ì½”ë“œ ì¤‘ë³µ ì œê±°
  - API ì¼ê´€ì„± í™•ë³´
  - í•™ìŠµ ê³¡ì„  ê°ì†Œ

---

## ğŸ“š ì—…ë°ì´íŠ¸ëœ ë¬¸ì„œ

### ìˆ˜ì •ëœ ë¬¸ì„œ
1. **onboarding-development-guide.md**
   - ìœ„ì ¯ ì†ŒìŠ¤ êµ¬ë¶„ ì—…ë°ì´íŠ¸
   - Import ì˜ˆì‹œ ë³€ê²½
   - PicklyButton ì‚¬ìš©ë²• ì¶”ê°€
   - SelectionListItem ê²½ë¡œ ë³€ê²½

2. **PRD.md**
   - v5.3 changelog ì¶”ê°€
   - ì»´í¬ë„ŒíŠ¸ ì •ë¦¬ ë‚´ì—­ ê¸°ë¡

3. **project-structure-guide.md**
   - Design System ì»´í¬ë„ŒíŠ¸ ëª©ë¡ ì—…ë°ì´íŠ¸
   - Import ê²½ë¡œ ì˜ˆì‹œ ìˆ˜ì •

### ì‹ ê·œ ë¬¸ì„œ
4. **v5.3-component-cleanup-summary.md** (ë³¸ ë¬¸ì„œ)
   - ìƒì„¸ ë³€ê²½ì‚¬í•­ ê¸°ë¡
   - ë§ˆì´ê·¸ë ˆì´ì…˜ ê°€ì´ë“œ ì œê³µ

---

## ğŸ¯ Breaking Changes

### Import ê²½ë¡œ ë³€ê²½

**âš ï¸ ì£¼ì˜**: ê¸°ì¡´ ì½”ë“œì—ì„œ ë‹¤ìŒ importë¥¼ ì‚¬ìš© ì¤‘ì´ë¼ë©´ ìˆ˜ì • í•„ìš”

```dart
// âŒ Deprecated (v5.2 ì´í•˜)
import 'package:pickly_mobile/features/onboarding/widgets/next_button.dart';
import 'package:pickly_mobile/features/onboarding/widgets/selection_list_item.dart';
import 'package:pickly_mobile/features/onboarding/widgets/selection_card.dart';

// âœ… New (v5.3+)
import 'package:pickly_design_system/widgets/buttons/pickly_button.dart';
import 'package:pickly_design_system/widgets/cards/selection_list_item.dart';
```

### API ë³€ê²½

**NextButton â†’ PicklyButton.primary**:
```dart
// Before
NextButton(
  label: 'ë‹¤ìŒ',        // label
  enabled: true,        // enabled ì†ì„±
  onPressed: () {},
)

// After
PicklyButton.primary(
  text: 'ë‹¤ìŒ',         // textë¡œ ë³€ê²½
  onPressed: () {},     // nullì´ë©´ ìë™ ë¹„í™œì„±í™”
)
```

---

## ğŸš€ ë‹¤ìŒ ë‹¨ê³„

### ê¶Œì¥ ì‘ì—…
1. **ì „ì—­ ê²€ìƒ‰ & êµì²´**:
   ```bash
   # VSCode ë˜ëŠ” IDEì—ì„œ í”„ë¡œì íŠ¸ ì „ì²´ ê²€ìƒ‰
   - NextButton â†’ PicklyButton.primary
   - features/onboarding/widgets/selection_list_item â†’ pickly_design_system/widgets/cards/selection_list_item
   ```

2. **í…ŒìŠ¤íŠ¸ ì‹¤í–‰**:
   ```bash
   cd apps/pickly_mobile
   flutter test
   ```

3. **ë¦°íŠ¸ í™•ì¸**:
   ```bash
   flutter analyze
   dart format --set-exit-if-changed .
   ```

### í–¥í›„ ê°œì„  ì‚¬í•­
- [ ] ë‚˜ë¨¸ì§€ Featureì— PicklyButton ì ìš© í™•ì¸
- [ ] Filter Featureì— SelectionListItem í™œìš©
- [ ] Policy Featureì— SelectionListItem í™œìš©
- [ ] ê³µí†µ Card ì»´í¬ë„ŒíŠ¸ ì¶”ê°€ ê²€í† 

---

## ğŸ“ˆ ì˜ˆìƒ íš¨ê³¼

### ì½”ë“œ í’ˆì§ˆ

| ë©”íŠ¸ë¦­ | Before (v5.2) | After (v5.3) | ê°œì„ ìœ¨ |
|--------|---------------|--------------|--------|
| ë²„íŠ¼ ì»´í¬ë„ŒíŠ¸ ìˆ˜ | 4ê°œ | 1ê°œ | 75% â†“ |
| Selection ìœ„ì ¯ ìˆ˜ | 3ê°œ | 1ê°œ | 66% â†“ |
| ì¤‘ë³µ ì½”ë“œ ë¼ì¸ | ~400ì¤„ | ~100ì¤„ | 75% â†“ |
| Design System ì»¤ë²„ë¦¬ì§€ | 40% | 70% | 75% â†‘ |

### ê°œë°œ ê²½í—˜

- **ì»´í¬ë„ŒíŠ¸ ì„ íƒ ì‹œê°„**: 30ì´ˆ â†’ 5ì´ˆ (-83%)
- **API í•™ìŠµ ì‹œê°„**: 10ë¶„ â†’ 3ë¶„ (-70%)
- **ì¼ê´€ì„± ì¤€ìˆ˜ìœ¨**: 60% â†’ 95% (+35%p)

### ìœ ì§€ë³´ìˆ˜ì„±

- **ë²„íŠ¼ ìŠ¤íƒ€ì¼ ë³€ê²½ ì‹œ**: 4ê°œ íŒŒì¼ â†’ 1ê°œ íŒŒì¼
- **Selection UI ê°œì„  ì‹œ**: 3ê°œ íŒŒì¼ â†’ 1ê°œ íŒŒì¼
- **ë²„ê·¸ ìˆ˜ì • ë²”ìœ„**: ì—¬ëŸ¬ Feature â†’ Design System ë‹¨ì¼ ìœ„ì¹˜

---

## ğŸ‰ ê²°ë¡ 

v5.3 ì»´í¬ë„ŒíŠ¸ ì •ë¦¬ë¥¼ í†µí•´:

1. âœ… **Design System ì—­í•  ëª…í™•í™”**: ê³µí†µ UI ì»´í¬ë„ŒíŠ¸ì˜ ì¤‘ì‹¬
2. âœ… **ì¼ê´€ì„± í™•ë³´**: ë‹¨ì¼ ë²„íŠ¼, ë‹¨ì¼ ì„ íƒ ì»´í¬ë„ŒíŠ¸
3. âœ… **ì¬ì‚¬ìš©ì„± í–¥ìƒ**: SelectionListItem ì „ì—­ ì‚¬ìš© ê°€ëŠ¥
4. âœ… **ìœ ì§€ë³´ìˆ˜ì„± ê°œì„ **: ì¤‘ë³µ ì œê±°ë¡œ ìˆ˜ì • í¬ì¸íŠ¸ ìµœì†Œí™”
5. âœ… **ê°œë°œ ê²½í—˜ í–¥ìƒ**: ëª…í™•í•œ API, ë¹ ë¥¸ ì»´í¬ë„ŒíŠ¸ ì„ íƒ

**í•µì‹¬ ì›ì¹™**:
- ê³µí†µ UI íŒ¨í„´ì€ Design Systemì—
- Feature íŠ¹í™” UIë§Œ ë¡œì»¬ì—
- ì¤‘ë³µì€ ì¦‰ì‹œ í†µí•©

---

**ì‘ì„±ì**: Claude Code Research Agent
**ë¦¬ë·°ì–´**: ê°œë°œíŒ€
**ìŠ¹ì¸ì¼**: 2025.10.12
